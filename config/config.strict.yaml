# KidGuard 嚴格模式配置範例
# 適合年齡：4-7 歲
# 特點：高度嚴格的過濾規則，最大限度保護幼兒

# Claude API
claude:
  api_key: "your-claude-api-key"
  model: "claude-opus-4-6"  # 使用更強大的模型以獲得更準確的判斷

# 家庭成員
family:
  - name: "小雞"
    age: 6
    is_child: true
  - name: "鴨鴨"
    age: 4
    is_child: true
  - name: "爸爸"
    age: 35
    is_child: false
  - name: "媽媽"
    age: 33
    is_child: false

# 偵測規則
rules:
  max_child_age: 12
  action: "redirect"  # 直接重導向到安全頻道
  check_interval: 20  # 每 20 秒檢查一次（更頻繁）
  clip_duration: 5

# 安全頻道白名單
safe_channels:
  - id: "UC295-Dw_tDNtZXFeAPAQKEw"
    name: "Cocomelon - 童謠"
  - id: "UCkQO3QsgTpNTsOw6ujimT5Q"
    name: "Numberblocks - 數學教育"
  - id: "UC4PooiX37Pld1T8J5SYT-SQ"
    name: "Alphablocks - 英文拼音"

# 內容分析設定
analysis:
  # 標準封鎖類別
  block_categories:
    - violence
    - horror
    - adult
    - drugs
    - gambling

  # 警告類別
  warn_categories:
    - excessive_consumerism
    - clickbait
    - loud_content

  # 信心閾值（較嚴格）
  confidence_threshold: 0.6  # 降低閾值，更容易觸發封鎖

  # ===== 家長自定義規則 =====
  custom_rules:
    # 語言限制：只允許中文
    language:
      enabled: true
      allowed_languages:
        - "中文"
      action: "block"
      reason: "只允許中文內容"

    # 動作限制：嚴格禁止所有暴力相關動作
    actions:
      enabled: true
      blocked_actions:
        - type: "砍擊揮砍"
          description: "持刀劍等武器進行砍擊、揮砍的動作"
          keywords: ["sword fighting", "slashing", "chopping", "刀劍", "砍殺", "武器"]
          severity: "high"

        - type: "拳打腳踢"
          description: "近身格鬥、打鬥場景"
          keywords: ["fighting", "punching", "kicking", "格鬥", "打架", "毆打"]
          severity: "high"

        - type: "危險特技"
          description: "高空跳躍、危險動作可能被模仿"
          keywords: ["dangerous stunts", "jumping", "parkour", "特技", "跳樓", "高空"]
          severity: "high"

        - type: "破壞行為"
          description: "故意破壞物品、砸東西"
          keywords: ["destruction", "smashing", "breaking things", "破壞", "砸東西"]
          severity: "high"

      action: "block"

    # 聲音限制：禁止所有刺耳聲音
    audio:
      enabled: true
      blocked_audio_types:
        - type: "尖叫"
          description: "高分貝尖叫、恐怖音效"
          keywords: ["screaming", "shrieking", "尖叫", "慘叫"]
          severity: "high"

        - type: "誇張大叫"
          description: "過度誇張的叫喊、噪音"
          keywords: ["yelling", "shouting loudly", "大叫", "吼叫", "嘶吼"]
          severity: "high"

        - type: "粗俗言語"
          description: "髒話、不雅用語"
          keywords: ["profanity", "swearing", "curse words", "髒話", "三字經", "罵人"]
          severity: "high"

      action: "block"

    # 視覺風格限制
    visual:
      enabled: true
      blocked_styles:
        - type: "血腥畫面"
          description: "血液、傷口、屍體等畫面"
          severity: "high"

        - type: "陰暗恐怖"
          description: "黑暗、陰森、恐怖的視覺風格"
          severity: "high"

        - type: "過度閃爍"
          description: "快速閃爍可能引發不適"
          severity: "medium"

        - type: "性感暴露"
          description: "不適當的服裝或姿勢"
          severity: "high"

      action: "block"

    # 主題內容限制
    themes:
      enabled: true
      blocked_themes:
        - "賭博遊戲"
        - "戀愛交往"
        - "校園霸凌"
        - "犯罪行為"
        - "超自然靈異"
        - "恐怖鬼怪"
        - "開箱炫富"
        - "惡作劇整人"
        - "網路迷因"
        - "電玩遊戲"  # 幼兒階段不適合
      action: "block"

    # 年齡分級覆寫
    age_rating:
      enabled: true
      verify_youtube_kids: true  # 即使 YouTube Kids 也要檢查
      max_rating: "G"  # 只允許普遍級

    # 關鍵字黑名單
    keywords:
      enabled: true
      blocked_keywords:
        # 恐怖類
        - "鬼"
        - "靈異"
        - "恐怖"
        - "嚇人"
        - "驚悚"
        # 暴力類
        - "血腥"
        - "殺人"
        - "殺手"
        - "槍戰"
        - "打鬥"
        # 不適當類
        - "18+"
        - "成人"
        - "限制級"
        - "色情"
        # 誘導類
        - "點擊"
        - "訂閱"
        - "買買買"
      action: "block"

# 通知設定
notifications:
  enabled: true

  telegram:
    enabled: true
    bot_token: "your-telegram-bot-token"
    chat_id: "your-chat-id"

  include_screenshot: true
  block_only: false  # 警告也通知

# 隱私設定
privacy:
  delete_clips: true
  anonymize_logs: false
  local_only: true

# 日誌設定
logging:
  level: "INFO"
  file: "logs/kidguard.log"
  max_size_mb: 10
  backup_count: 5
